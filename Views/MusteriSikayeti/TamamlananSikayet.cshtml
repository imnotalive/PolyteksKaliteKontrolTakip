@*@model IEnumerable<POLYTEKS_QDMS_MVC.Models.Qdms_MusteriSikayet>*@
@model IEnumerable<PolyteksKaliteKontrolTakip.Models.Qdms_MusteriSikayet>

@{
    ViewBag.Title = "TamamlananSikayet";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card-body">
    <div class="col-md-12" style="color:black">
        <div class="card" style="background-color:aliceblue">

            <div class="card-header">
              
                    <center><h4><b>TAMAMLANAN MÜŞTERİ ŞİKAYETLERİ</b></h4></center>


             
            </div>
            <br />
            <div class="container">
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" type="text" id="Search" placeholder="ARA">
                        <div class="input-group-append">
                            <div class="input-group-text"><i class="fa fa-search"></i></div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="container">
                <table class="table table-bordered table-striped table-hover table-responsive-sm">
                    @*<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">*@
                    <tr class="text-center">

                        <th>
                            @Html.DisplayName("KOD")
                        </th>
                        <th>
                            @Html.DisplayName("KAYIT")
                        </th>
                        <th>
                            @Html.DisplayName("PARTİ NO")
                        </th>
                        <th>
                            @Html.DisplayName("ŞİKAYET KONUSU")
                        </th>
                        <th>
                            @Html.DisplayName("PERSONEL")
                        </th>
                        <th>
                            @Html.DisplayName("CARİ")
                        </th>

                        <th>

                        </th>
                        <th>

                        </th>

                    </tr>

                    @foreach (var item in Model)
                    {
                        <tr class="Search more">

                            <td>
                                <b> #@Html.DisplayFor(modelItem => item.ID)</b>
                            </td>
                            <td>
                                @Convert.ToDateTime(item.SikayetReklamasyonGelisTarihi).ToString("dd.MM.yyyy")
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Qdms_PartiNo.LotNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Qdms_SikayetSebebi.Qdms_SikayetGrubu.SikayetGrubu) / @Html.DisplayFor(modelItem => item.Qdms_SikayetSebebi.SikayetSebebi)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SatisMusteriTemsilcisiAd)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Qdms_Cari.CariAdi)
                            </td>





                            <td style="color: black" class="button_class">
                                @*@Html.ActionLink("DETAYLAR", "Details", new { id = item.ID }, new { @class = "btn btn-info" })*@
                                <center>
                                    <a href="@Url.Action("_DevamEdenSikayetSonucDetay", "MusteriSikayeti",new { id = item.ID })" title="DETAYLAR" class="btn btn-info"> <i class="fa fa-book" aria-hidden="true">  </i></a>
                                </center>
                            </td>
                            <td style="color: black" class="button_class">

                                <center>
                                    <a href="@Url.Action("MusteriFormati", "MusteriSikayeti",new { id = item.ID })" title="MÜŞTERİ DETAY FORMAT" class="btn btn-danger"> <i class="fa fa-book" aria-hidden="true">  </i></a>
                                </center>
                            </td>




                        </tr>
                    }

                </table>
            </div>



            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
            <script type="text/javascript">

                $(document).ready(function () {
                    function Contains(text_one, text_two) {
                        if (text_one.indexOf(text_two) != -1)
                            return true;
                    }
                    $("#Search").keyup(function () {
                        var searchText = $("#Search").val().toLowerCase();
                        $(".Search").each(function () {
                            if (!Contains($(this).text().toLowerCase(), searchText)) {
                                $(this).hide();
                            }
                            else {
                                $(this).show();
                            }
                        })
                    });
                });

            </script>


            <b> Toplam Tamamlanan Müşteri Şikayeti Sayısı: @Model.Count() </b>
            <br />

        </div>
</div>
</div>

