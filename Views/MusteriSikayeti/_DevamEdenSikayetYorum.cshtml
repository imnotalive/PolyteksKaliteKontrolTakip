@model IEnumerable<PolyteksKaliteKontrolTakip.Models.Qdms_MusteriSikayet>

@{
    ViewBag.Title = "_DevamEdenSikayetYorum";

}
<div class="container-fluid">
    <table class="table table-bordered table-striped table-hover table-responsive-sm">
        @*<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">*@
        <thead style="background-color:lightskyblue">
            <tr class="text-center">

                <th>
                    @Html.DisplayName("KOD")
                </th>
                <th>
                    @Html.DisplayName("KAYIT")
                </th>
                <th>
                    @Html.DisplayName("PERSONEL")
                </th>
                <th>
                    @Html.DisplayName("CARİ")
                </th>
                <th>
                    @Html.DisplayName("ŞİKAYET KONUSU")
                </th>
                <th>
                    @Html.DisplayName("PARTİ NUMARASI")
                </th>
                <th>
                    @Html.DisplayName("GÜNCEL DURUM")
                </th>
                <th>
                    @Html.DisplayName("YORUM SEÇİLENLER")
                </th>
                <th>
                    @Html.DisplayName("YORUM BEKLENENLER")
                </th>
                <th>
                    #
                </th>
                <th>
                    #
                </th>
                @if (User.IsInRole("A"))
                {
                    <th>
                        #
                    </th>
                }
            </tr>
        </thead>
        @foreach (var item in Model)
        {
            <tr class="Search more">

                <td>
                    <b> #@Html.DisplayFor(modelItem => item.ID)</b>
                </td>
                <td>
                    @Convert.ToDateTime(item.SikayetReklamasyonGelisTarihi).ToString("dd.MM.yyyy")
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SatisMusteriTemsilcisiAd)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Qdms_Cari.CariAdi)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Qdms_SikayetSebebi.Qdms_SikayetGrubu.SikayetGrubu) / @Html.DisplayFor(modelItem => item.Qdms_SikayetSebebi.SikayetSebebi)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Qdms_PartiNo.LotNo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Durum)
                </td>
                <td>
                    @if (item.EESeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-primary">EE yorumu seçildi</span>
                    }  @if (item.TekstureSeciliMi == true)
                    {

                        <span class="badge rounded-pill bg-danger">Tekstüre yorumu seçildi</span>


                    }
                    @if (item.LabSeciliMi == true)
                    {

                        <span class="badge rounded-pill bg-danger">Laboratuvar yorumu seçildi</span>



                    }
                    @if (item.TTSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Teknik tekstil yorumu seçildi</span>
                    }
                    @if (item.UretimSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Üretim yorumu seçildi</span>
                    }
                    @if (item.BukumSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Büküm yorumu seçildi</span>
                    }
                    @if (item.SatinalmaSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Satınalma yorumu seçildi</span>
                    }
                    @if (item.SevkiyatSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Sevkiyat yorumu seçildi</span>
                    }
                    @if (item.PaketlemeSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Paketleme yorumu seçildi</span>
                    }
                    @if (item.MBSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Makine Bakım yorumu seçildi</span>
                    }
                    @if (item.ProsesSeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-danger">Proses yorumu seçildi</span>
                    }
                </td>
                <td>
                    @if (item.EESeciliMi == true)
                    {
                        <span class="badge rounded-pill bg-primary">EE yorumu bekleniyor</span>
                    }  @if (item.TekstureSeciliMi == true)
                    {
                        if (item.TekstureYorum == null)
                        {
                            <span class="badge rounded-pill bg-primary">Tekstüre yorumu bekleniyor</span>
                        }
                        if (item.TekstureYorum != null)
                        { }
                    }
                    @if (item.LabSeciliMi == true)
                    {
                        if (item.YapilanAnalizler == null)
                        {
                            <span class="badge rounded-pill bg-primary">Laboratuvar yorumu bekleniyor</span>
                        }
                        if (item.YapilanAnalizler != null)
                        { }

                    }
                    @if (item.TTSeciliMi == true)
                    {
                        if (item.TTYorum == null)
                        {
                            <span class="badge rounded-pill bg-primary">Teknik tekstil yorumu bekleniyor</span>
                        }
                        if (item.TTYorum != null)
                        { }
                    }
                    @if (item.UretimSeciliMi == true)
                    {
                        if (item.UretimYorum == null)
                        {
                            <span class="badge rounded-pill bg-primary">Üretim yorumu bekleniyor</span>
                        }
                        if (item.UretimYorum != null)
                        { }
                    }
                    @if (item.BukumSeciliMi == true)
                    {
                        if (item.BukumYorum == null)
                        {
                            <span class="badge rounded-pill bg-primary">Büküm yorumu bekleniyor</span>
                        }
                        if (item.BukumYorum != null)
                        { }

                    }
                    @if (item.SatinalmaSeciliMi == true)
                    {
                        if (item.SatinalmaYorum == null)
                        {
                            <span class="badge rounded-pill bg-primary">Satınalma yorumu bekleniyor</span>
                        }
                        if (item.SatinalmaYorum != null)
                        { }

                    }
                    @if (item.SevkiyatSeciliMi == true)
                    {
                        if (item.SevkiyatYorum == null)
                        {<span class="badge rounded-pill bg-primary">Sevkiyat yorumu bekleniyor</span>}

                        if (item.SevkiyatYorum != null)
                        { }
                    }
                    @if (item.PaketlemeSeciliMi == true)
                    {
                        if (item.PaketlemeYorum == null)
                        {<span class="badge rounded-pill bg-primary">Paketleme yorumu bekleniyor</span>}

                        if (item.PaketlemeYorum != null)
                        { }
                    }
                    @if (item.MBSeciliMi == true)
                    {
                        if (item.MBYorum == null)
                        {<span class="badge rounded-pill bg-primary">Makine Bakım yorumu bekleniyor</span>}

                        if (item.MBYorum != null)
                        { }
                    }
                    @if (item.ProsesSeciliMi == true)
                    {
                        if (item.ProsesYorum == null)
                        {<span class="badge rounded-pill bg-primary">Proses yorumu bekleniyor</span>}

                        if (item.ProsesYorum != null)
                        { }
                    }
                </td>
                <td style="color: black">
                    <center>

                        <a href="@Url.Action("_DevamEdenSikayetYorumDuzenle", "MusteriSikayeti", new { id = item.ID })" title="DÜZENLE" class="btn btn-primary"> <i class="fas fa-pen">   </i></a>
                    </center>
                </td>
                <td style="color: black" class="button_class">

                    <center>
                        <a href="@Url.Action("_DevamEdenSikayetSonucDetay", "MusteriSikayeti",new { id = item.ID })" title="DETAYLAR" class="btn btn-info"> <i class="fa fa-book" aria-hidden="true">  </i></a>
                    </center>
                </td>


                @if (User.IsInRole("A"))
                {
                    <td style="color: black">
                        <center>
                            <a href="@Url.Action("_DevamEdenSikayetSil", "MusteriSikayeti", new { id = item.ID })" title="SİL" class="btn btn-danger deleteLink">   <i class="fas fa-trash"> </i></a>
                        </center>
                    </td>
                }
            </tr>
        }

    </table>

</div>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        function Contains(text_one, text_two) {
            if (text_one.indexOf(text_two) != -1)
                return true;
        }
        $("#Search").keyup(function () {
            var searchText = $("#Search").val().toLowerCase();
            $(".Search").each(function () {
                if (!Contains($(this).text().toLowerCase(), searchText)) {
                    $(this).hide();
                }
                else {
                    $(this).show();
                }
            })
        });
    });

</script>